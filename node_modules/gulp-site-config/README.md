![](https://travis-ci.org/codemonkey800/gulp-site-config.svg)
[![Code Climate](https://codeclimate.com/github/codemonkey800/gulp-site-config/badges/gpa.svg)](https://codeclimate.com/github/codemonkey800/gulp-site-config)
[![Test Coverage](https://codeclimate.com/github/codemonkey800/gulp-site-config/badges/coverage.svg)](https://codeclimate.com/github/codemonkey800/gulp-site-config)
![](https://david-dm.org/codemonkey800/gulp-site-config.png)
![](https://badge.fury.io/js/gulp-site-config.svg)
![](https://img.shields.io/npm/l/express.svg)
![](https://img.shields.io/badge/waddup-doe-blue.svg)

gulp-site-config
================

A simple [Gulp](http://gulpjs.com/) plugin used for generating a single configuration file from subconfiguration files. 

Usage
=====
After including the plugin, pipe your subconfiguration files over to the ```gulp-site-config``` plugin. When piping, make sure you declare an empty object to store the configuration object. This will pass the object by reference and update its contents. This is needed due to the linear workflow of Gulp.

Example
=====
```js
var gulp   = require( 'gulp' ),
    config = require( 'gulp-site-config' ),
    jade   = require( 'gulp-jade' );
    
var siteConfig = {};
gulp.task( 'loadSiteConfig', function() {
    return gulp.src( 'src/**/_data.json' )
               .pipe( config( siteConfig ) );
} );
    
gulp.task( 'jade', [ 'loadSiteConfig' ], function() {
    return gulp.src( 'src/**/*.jade' )
               .pipe( jade( { locals: siteConfig } ) )
               .pipe( gulp.dest( 'site' ) );
} );

gulp.task( 'default', [ 'jade' ] );
```

API
===
##siteConfig( configVar, opts )
The plugin. Yep. ```configVar``` is an object ( it can be empty or not. It'll be overwrriten anyway ) that stores the configuration object in. If this argument isn't specified, it'll throw an error.

```opts``` are options that do cool things. Look below.

##opts.resolve
If you don't like how the configuration file is structured, you can resolve the directory structure. For instance,
say we have the followig [Vinyl](https://github.com/wearefractal/vinyl) ```File``` object:
```js
    File( {
        base: /home/jeremy/Devel/project/src/,
        path: /home/jeremy/Devel/project/src/_data.json,
        contents: ...
    } );
```

This file would have the following configuration:
```js
    {
        data: {
            ...
        }
    }
```

Say you wanted ```src``` to be included in the config object. Just pass in 
```js
    config( siteConfig, { resolve: '..' } );
```

You can resolve as much as you want, but you probably want to keep your object structure sane.

Excelsior! 
==========
![](http://goo.gl/S6qY2O)
